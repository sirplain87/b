<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mybatis/mapper.PriceMapper">
  <resultMap id="BaseResultMap" type="com.springapp.mvc.model.Price">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Aug 17 20:54:01 CST 2015.
    -->
    <id column="id" jdbcType="BIGINT" property="id" />
    <result column="startp" jdbcType="DOUBLE" property="startp" />
    <result column="END" jdbcType="DOUBLE" property="end" />
    <result column="high" jdbcType="DOUBLE" property="high" />
    <result column="low" jdbcType="DOUBLE" property="low" />
    <result column="day" jdbcType="TIMESTAMP" property="day" />
    <result column="hang" jdbcType="BIT" property="hang" />
    <result column="code" jdbcType="VARCHAR" property="code" />
    <result column="prevp" jdbcType="DOUBLE" property="prevp" />
    <result column="zs" jdbcType="BIGINT" property="zs" />
  </resultMap>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Long">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Aug 17 20:54:01 CST 2015.
    -->
    delete from price
    where id = #{id,jdbcType=BIGINT}
  </delete>
  <insert id="insert" parameterType="com.springapp.mvc.model.Price">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Aug 17 20:54:01 CST 2015.
    -->
    insert into price (id, startp, END, 
      high, low, day, hang, 
      code, prevp, zs)
    values (#{id,jdbcType=BIGINT}, #{startp,jdbcType=DOUBLE}, #{end,jdbcType=DOUBLE}, 
      #{high,jdbcType=DOUBLE}, #{low,jdbcType=DOUBLE}, #{day,jdbcType=TIMESTAMP}, #{hang,jdbcType=BIT}, 
      #{code,jdbcType=VARCHAR}, #{prevp,jdbcType=DOUBLE}, #{zs,jdbcType=BIGINT})
  </insert>
  <update id="updateByPrimaryKey" parameterType="com.springapp.mvc.model.Price">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Aug 17 20:54:01 CST 2015.
    -->
    update price
    set startp = #{startp,jdbcType=DOUBLE},
      END = #{end,jdbcType=DOUBLE},
      high = #{high,jdbcType=DOUBLE},
      low = #{low,jdbcType=DOUBLE},
      day = #{day,jdbcType=TIMESTAMP},
      hang = #{hang,jdbcType=BIT},
      code = #{code,jdbcType=VARCHAR},
      prevp = #{prevp,jdbcType=DOUBLE},
      zs = #{zs,jdbcType=BIGINT}
    where id = #{id,jdbcType=BIGINT}
  </update>
  <select id="selectByPrimaryKey" parameterType="java.lang.Long" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Aug 17 20:54:01 CST 2015.
    -->
    select id, startp, END, high, low, day, hang, code, prevp, zs
    from price
    where id = #{id,jdbcType=BIGINT}
  </select>
  <select id="selectAll" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Aug 17 20:54:01 CST 2015.
    -->
    select id, startp, END, high, low, day, hang, code, prevp, zs
    from price
  </select>

  <select id="selectPriceofTime" resultMap="BaseResultMap" parameterType="java.util.Map">
    select id, startp, END, high, low, day, hang, code, prevp, zs
    from price WHERE  code=#{code} and day BETWEEN #{start} and #{end} order by id desc limit 1
  </select>

  <select id="selectByCodeAsc" resultMap="BaseResultMap" parameterType="java.lang.String">
    select id, startp, END, high, low, day, hang, code, prevp, zs
    from price WHERE code=#{code} order by id asc;
  </select>

  <select id="selectByTimeLimitTwo" resultMap="BaseResultMap" parameterType="java.lang.String">
    select id, startp, END, high, low, day, hang, code, prevp, zs
    from price WHERE code=#{code} and #{day}>day order by id desc limit 2;
  </select>

  <select id="selectLatestOne" resultMap="BaseResultMap">
    select id, startp, END, high, low, day, hang, code, prevp, zs
    from price WHERE code=#{code} order by id desc limit 1;
  </select>

  <select id="findPriceOfDay" resultMap="BaseResultMap" parameterType="java.util.Map">
    select id, startp, END, high, low, day, hang, code, prevp, zs
    from price WHERE code=#{code} and day>#{start} order by id asc limit 1;
  </select>

  <select id="selectListofTen" resultMap="BaseResultMap">
    select id, startp, END, high, low, day, hang, code, prevp, zs
    from price WHERE code=#{code} order by id desc limit 10;
  </select>
</mapper>